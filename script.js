// Language translations
const translations = {
    en: {
        'hero.title': 'Drive Your Dreams',
        'hero.subtitle': 'Premium car rental service for every journey',
        'hero.cta': 'Browse Cars',
        'hero.contact': 'Contact Us',
        'hero.scroll': 'Scroll to explore',
        'features.card1.title': 'Wide Selection',
        'features.card1.desc': 'From economy to luxury, find your perfect ride',
        'features.card2.title': 'Instant Booking',
        'features.card2.desc': 'Book online in minutes, drive away today',
        'features.card3.title': 'Full Insurance',
        'features.card3.desc': 'Comprehensive coverage included',
        'features.card4.title': 'Best Prices',
        'features.card4.desc': 'Competitive rates, no hidden fees',
        'cars.title': 'Our Fleet',
        'cars.subtitle': 'Choose from our premium collection',
        'cars.badge.electric': 'Electric',
        'cars.badge.luxury': 'Luxury',
        'cars.badge.suv': 'SUV',
        'cars.badge.economy': 'Economy',
        'cars.badge.exotic': 'Exotic',
        'cars.featured': 'Premium',
        'cars.price.day': '/day',
        'cars.rent': 'Rent Now',
        'cars.best': 'Best for:',
        'cars.tesla.best': 'Tech-savvy city trips',
        'cars.bmw.best': 'Business meetings',
        'cars.rav4.best': 'Family road trips',
        'cars.hyundai.best': 'Budget travelers',
        'cars.porsche.best': 'Special occasions',
        'location.title': 'Find Us',
        'location.description': 'Visit our rental location or contact us for delivery',
        'contact.title': 'Get In Touch',
        'contact.description': 'Ready to drive? Contact us now for instant booking',
        'contact.whatsapp.title': 'WhatsApp',
        'contact.whatsapp.desc': 'Chat with us instantly',
        'contact.phone.title': 'Call Us',
        'contact.phone.desc': '+1 (234) 567-890',
        'contact.email.title': 'Email',
        'contact.email.desc': 'info@carrental.com',
        'footer.text': 'Â© 2024 Premium Car Rental. ',
        'footer.rights': 'All rights reserved.',
        'floating.whatsapp': 'WhatsApp',
        'floating.call': 'Call'
    },
    ar: {
        'hero.title': 'Ù‚Ø¯ Ø£Ø­Ù„Ø§Ù…Ùƒ',
        'hero.subtitle': 'Ø®Ø¯Ù…Ø© ØªØ£Ø¬ÙŠØ± Ø³ÙŠØ§Ø±Ø§Øª Ù…Ù…ØªØ§Ø²Ø© Ù„ÙƒÙ„ Ø±Ø­Ù„Ø©',
        'hero.cta': 'ØªØµÙØ­ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª',
        'hero.contact': 'Ø§ØªØµÙ„ Ø¨Ù†Ø§',
        'hero.scroll': 'Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ø§Ø³ØªÙƒØ´Ø§Ù',
        'features.card1.title': 'Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø³Ø¹',
        'features.card1.desc': 'Ù…Ù† Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„ÙØ§Ø®Ø±Ø©ØŒ Ø§Ø¨Ø­Ø« Ø¹Ù† Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©',
        'features.card2.title': 'Ø­Ø¬Ø² ÙÙˆØ±ÙŠ',
        'features.card2.desc': 'Ø§Ø­Ø¬Ø² Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙÙŠ Ø¯Ù‚Ø§Ø¦Ù‚ØŒ ÙˆØ§Ù†Ø·Ù„Ù‚ Ø§Ù„ÙŠÙˆÙ…',
        'features.card3.title': 'ØªØ£Ù…ÙŠÙ† ÙƒØ§Ù…Ù„',
        'features.card3.desc': 'ØªØºØ·ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù…Ø´Ù…ÙˆÙ„Ø©',
        'features.card4.title': 'Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±',
        'features.card4.desc': 'Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ©ØŒ Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ… Ø®ÙÙŠØ©',
        'cars.title': 'Ø£Ø³Ø·ÙˆÙ„Ù†Ø§',
        'cars.subtitle': 'Ø§Ø®ØªØ± Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©',
        'cars.badge.electric': 'ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',
        'cars.badge.luxury': 'ÙØ§Ø®Ø±',
        'cars.badge.suv': 'Ø¯ÙØ¹ Ø±Ø¨Ø§Ø¹ÙŠ',
        'cars.badge.economy': 'Ø§Ù‚ØªØµØ§Ø¯ÙŠ',
        'cars.badge.exotic': 'ØºØ±ÙŠØ¨',
        'cars.featured': 'Ù…Ù…ÙŠØ²',
        'cars.price.day': '/ÙŠÙˆÙ…',
        'cars.rent': 'Ø§Ø³ØªØ£Ø¬Ø± Ø§Ù„Ø¢Ù†',
        'cars.best': 'Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù€:',
        'cars.tesla.best': 'Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ù†ÙŠØ©',
        'cars.bmw.best': 'Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©',
        'cars.rav4.best': 'Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',
        'cars.hyundai.best': 'Ø§Ù„Ù…Ø³Ø§ÙØ±ÙˆÙ† Ø§Ù„Ù…Ù‚ØªØµØ¯ÙˆÙ†',
        'cars.porsche.best': 'Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ©',
        'location.title': 'Ø§Ø¹Ø«Ø± Ø¹Ù„ÙŠÙ†Ø§',
        'location.description': 'Ù‚Ù… Ø¨Ø²ÙŠØ§Ø±Ø© Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ Ø£Ùˆ Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ù„Ù„ØªÙˆØµÙŠÙ„',
        'contact.title': 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§',
        'contact.description': 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ù‚ÙŠØ§Ø¯Ø©ØŸ Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ø§Ù„Ø¢Ù† Ù„Ù„Ø­Ø¬Ø² Ø§Ù„ÙÙˆØ±ÙŠ',
        'contact.whatsapp.title': 'ÙˆØ§ØªØ³Ø§Ø¨',
        'contact.whatsapp.desc': 'ØªØ­Ø¯Ø« Ù…Ø¹Ù†Ø§ ÙÙˆØ±Ø§Ù‹',
        'contact.phone.title': 'Ø§ØªØµÙ„ Ø¨Ù†Ø§',
        'contact.phone.desc': '+1 (234) 567-890',
        'contact.email.title': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
        'contact.email.desc': 'info@carrental.com',
        'footer.text': 'Â© 2024 ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ². ',
        'footer.rights': 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.',
        'floating.whatsapp': 'ÙˆØ§ØªØ³Ø§Ø¨',
        'floating.call': 'Ø§ØªØµÙ„'
    },
    fr: {
        'hero.title': 'Conduisez Vos RÃªves',
        'hero.subtitle': 'Service de location de voitures premium pour chaque voyage',
        'hero.cta': 'Parcourir les Voitures',
        'hero.contact': 'Nous Contacter',
        'hero.scroll': 'Faites dÃ©filer pour explorer',
        'features.card1.title': 'Large SÃ©lection',
        'features.card1.desc': 'De l\'Ã©conomique au luxe, trouvez votre vÃ©hicule idÃ©al',
        'features.card2.title': 'RÃ©servation InstantanÃ©e',
        'features.card2.desc': 'RÃ©servez en ligne en quelques minutes, partez aujourd\'hui',
        'features.card3.title': 'Assurance ComplÃ¨te',
        'features.card3.desc': 'Couverture complÃ¨te incluse',
        'features.card4.title': 'Meilleurs Prix',
        'features.card4.desc': 'Tarifs compÃ©titifs, pas de frais cachÃ©s',
        'cars.title': 'Notre Flotte',
        'cars.subtitle': 'Choisissez parmi notre collection premium',
        'cars.badge.electric': 'Ã‰lectrique',
        'cars.badge.luxury': 'Luxe',
        'cars.badge.suv': 'SUV',
        'cars.badge.economy': 'Ã‰conomique',
        'cars.badge.exotic': 'Exotique',
        'cars.featured': 'Premium',
        'cars.price.day': '/jour',
        'cars.rent': 'Louer Maintenant',
        'cars.best': 'IdÃ©al pour:',
        'cars.tesla.best': 'Voyages urbains technophiles',
        'cars.bmw.best': 'RÃ©unions d\'affaires',
        'cars.rav4.best': 'Voyages en famille',
        'cars.hyundai.best': 'Voyageurs Ã  petit budget',
        'cars.porsche.best': 'Occasions spÃ©ciales',
        'location.title': 'Nous Trouver',
        'location.description': 'Visitez notre point de location ou contactez-nous pour la livraison',
        'contact.title': 'Contactez-Nous',
        'contact.description': 'PrÃªt Ã  conduire? Contactez-nous maintenant pour une rÃ©servation instantanÃ©e',
        'contact.whatsapp.title': 'WhatsApp',
        'contact.whatsapp.desc': 'Discutez avec nous instantanÃ©ment',
        'contact.phone.title': 'Appelez-Nous',
        'contact.phone.desc': '+1 (234) 567-890',
        'contact.email.title': 'Email',
        'contact.email.desc': 'info@carrental.com',
        'footer.text': 'Â© 2024 Location de Voitures Premium. ',
        'footer.rights': 'Tous droits rÃ©servÃ©s.',
        'floating.whatsapp': 'WhatsApp',
        'floating.call': 'Appeler'
    },
    pl: {
        'hero.title': 'ProwadÅº Swoje Marzenia',
        'hero.subtitle': 'Premium wypoÅ¼yczalnia samochodÃ³w na kaÅ¼dÄ… podrÃ³Å¼',
        'hero.cta': 'PrzeglÄ…daj Samochody',
        'hero.contact': 'Skontaktuj SiÄ™',
        'hero.scroll': 'PrzewiÅ„, aby odkryÄ‡',
        'features.card1.title': 'Szeroki WybÃ³r',
        'features.card1.desc': 'Od ekonomicznych po luksusowe, znajdÅº swÃ³j idealny pojazd',
        'features.card2.title': 'Natychmiastowa Rezerwacja',
        'features.card2.desc': 'Zarezerwuj online w kilka minut, wyjedÅº jeszcze dziÅ›',
        'features.card3.title': 'PeÅ‚ne Ubezpieczenie',
        'features.card3.desc': 'Kompleksowa ochrona wliczona',
        'features.card4.title': 'Najlepsze Ceny',
        'features.card4.desc': 'Konkurencyjne stawki, brak ukrytych opÅ‚at',
        'cars.title': 'Nasza Flota',
        'cars.subtitle': 'Wybierz z naszej premium kolekcji',
        'cars.badge.electric': 'Elektryczny',
        'cars.badge.luxury': 'Luksusowy',
        'cars.badge.suv': 'SUV',
        'cars.badge.economy': 'Ekonomiczny',
        'cars.badge.exotic': 'Egzotyczny',
        'cars.featured': 'Premium',
        'cars.price.day': '/dzieÅ„',
        'cars.rent': 'Wynajmij Teraz',
        'cars.best': 'Idealny dla:',
        'cars.tesla.best': 'PodrÃ³Å¼e miejskie dla tech-savvy',
        'cars.bmw.best': 'Spotkania biznesowe',
        'cars.rav4.best': 'Rodzinne wycieczki',
        'cars.hyundai.best': 'PodrÃ³Å¼nicy z ograniczonym budÅ¼etem',
        'cars.porsche.best': 'Specjalne okazje',
        'location.title': 'ZnajdÅº Nas',
        'location.description': 'OdwiedÅº naszÄ… lokalizacjÄ™ wypoÅ¼yczalni lub skontaktuj siÄ™ z nami w sprawie dostawy',
        'contact.title': 'Skontaktuj SiÄ™',
        'contact.description': 'Gotowy do jazdy? Skontaktuj siÄ™ z nami teraz, aby natychmiast zarezerwowaÄ‡',
        'contact.whatsapp.title': 'WhatsApp',
        'contact.whatsapp.desc': 'Porozmawiaj z nami natychmiast',
        'contact.phone.title': 'ZadzwoÅ„',
        'contact.phone.desc': '+1 (234) 567-890',
        'contact.email.title': 'Email',
        'contact.email.desc': 'info@carrental.com',
        'footer.text': 'Â© 2024 Premium WypoÅ¼yczalnia SamochodÃ³w. ',
        'footer.rights': 'Wszelkie prawa zastrzeÅ¼one.',
        'floating.whatsapp': 'WhatsApp',
        'floating.call': 'ZadzwoÅ„'
    },
    cs: {
        'hero.title': 'Å˜iÄte SvÃ© Sny',
        'hero.subtitle': 'PrÃ©miovÃ¡ pÅ¯jÄovna aut pro kaÅ¾dou cestu',
        'hero.cta': 'ProchÃ¡zet Auta',
        'hero.contact': 'Kontaktujte NÃ¡s',
        'hero.scroll': 'PosuÅˆte se dolÅ¯ a prozkoumejte',
        'features.card1.title': 'Å irokÃ½ VÃ½bÄ›r',
        'features.card1.desc': 'Od ekonomickÃ½ch po luxusnÃ­, najdÄ›te svÅ¯j ideÃ¡lnÃ­ vÅ¯z',
        'features.card2.title': 'OkamÅ¾itÃ¡ Rezervace',
        'features.card2.desc': 'Rezervujte online bÄ›hem nÄ›kolika minut, vyjeÄte jeÅ¡tÄ› dnes',
        'features.card3.title': 'PlnÃ© PojiÅ¡tÄ›nÃ­',
        'features.card3.desc': 'KomplexnÃ­ pokrytÃ­ zahrnuto',
        'features.card4.title': 'NejlepÅ¡Ã­ Ceny',
        'features.card4.desc': 'KonkurenÄnÃ­ sazby, Å¾Ã¡dnÃ© skrytÃ© poplatky',
        'cars.title': 'NaÅ¡e Flotila',
        'cars.subtitle': 'Vyberte si z naÅ¡Ã­ prÃ©miovÃ© kolekce',
        'cars.badge.electric': 'ElektrickÃ½',
        'cars.badge.luxury': 'LuxusnÃ­',
        'cars.badge.suv': 'SUV',
        'cars.badge.economy': 'EkonomickÃ½',
        'cars.badge.exotic': 'ExotickÃ½',
        'cars.featured': 'Premium',
        'cars.price.day': '/den',
        'cars.rent': 'PÅ¯jÄit NynÃ­',
        'cars.best': 'IdeÃ¡lnÃ­ pro:',
        'cars.tesla.best': 'MÄ›stskÃ© cesty pro tech-savvy',
        'cars.bmw.best': 'ObchodnÃ­ schÅ¯zky',
        'cars.rav4.best': 'RodinnÃ© vÃ½lety',
        'cars.hyundai.best': 'CestovatelÃ© s omezenÃ½m rozpoÄtem',
        'cars.porsche.best': 'SpeciÃ¡lnÃ­ pÅ™Ã­leÅ¾itosti',
        'location.title': 'NajdÄ›te NÃ¡s',
        'location.description': 'NavÅ¡tivte naÅ¡i pÅ¯jÄovnu nebo nÃ¡s kontaktujte pro doruÄenÃ­',
        'contact.title': 'Kontaktujte NÃ¡s',
        'contact.description': 'PÅ™ipraveni jet? Kontaktujte nÃ¡s nynÃ­ pro okamÅ¾itou rezervaci',
        'contact.whatsapp.title': 'WhatsApp',
        'contact.whatsapp.desc': 'Chatujte s nÃ¡mi okamÅ¾itÄ›',
        'contact.phone.title': 'Zavolejte',
        'contact.phone.desc': '+1 (234) 567-890',
        'contact.email.title': 'Email',
        'contact.email.desc': 'info@carrental.com',
        'footer.text': 'Â© 2024 PrÃ©miovÃ¡ PÅ¯jÄovna Aut. ',
        'footer.rights': 'VÅ¡echna prÃ¡va vyhrazena.',
        'floating.whatsapp': 'WhatsApp',
        'floating.call': 'Zavolat'
    }
};

// Get current language and theme from localStorage
let currentLang = localStorage.getItem('selectedLanguage') || 'en';
let currentTheme = localStorage.getItem('theme') || 'dark';

// Initialize on page load
document.addEventListener('DOMContentLoaded', function () {
    // Set initial language
    setLanguage(currentLang);

    // Set initial theme
    setTheme(currentTheme);

    // Language buttons
    const langButtons = document.querySelectorAll('.lang-btn');
    langButtons.forEach(btn => {
        btn.addEventListener('click', function () {
            const lang = this.getAttribute('data-lang');
            setLanguage(lang);
        });
    });

    // Theme toggle
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        themeToggle.addEventListener('click', function () {
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        });
    }

    // Initialize Scroll Animations
    initScrollAnimations();
});

// Function to set language
function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('selectedLanguage', lang);

    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });

    // Set document direction for RTL languages
    if (lang === 'ar') {
        document.documentElement.setAttribute('dir', 'rtl');
        document.documentElement.setAttribute('lang', 'ar');
    } else {
        document.documentElement.setAttribute('dir', 'ltr');
        document.documentElement.setAttribute('lang', lang);
    }

    // Update all translatable elements
    const elements = document.querySelectorAll('[data-key]');
    elements.forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            const translation = translations[lang][key];
            // Check if translation contains HTML (like <span>)
            if (translation.includes('<')) {
                element.innerHTML = translation;
            } else {
                element.textContent = translation;
            }
        }
    });
}

// Function to set theme
function setTheme(theme) {
    currentTheme = theme;
    localStorage.setItem('theme', theme);
    document.documentElement.setAttribute('data-theme', theme);

    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        const icon = themeToggle.querySelector('.icon');
        if (icon) {
            icon.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
        }
    }
}

// Scroll Animations using Intersection Observer
function initScrollAnimations() {
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target); // Only animate once
            }
        });
    }, observerOptions);

    const animatedElements = document.querySelectorAll('.fade-in');
    animatedElements.forEach(el => observer.observe(el));
}
